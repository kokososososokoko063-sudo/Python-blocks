<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Python Blocks Runner Ø¨Ø¯ÙˆÙ† Ù…ÙƒØªØ¨Ø§Øª</title>
<style>
body {
  font-family: "Cairo", sans-serif;
  direction: rtl;
  background: #f5f6fa;
  margin: 0;
  text-align: center;
}
h2 {
  background: #4b7bec;
  color: white;
  margin: 0;
  padding: 15px;
}
#main {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin: 20px;
}
#commands, #outputPanel {
  margin: 10px;
}
button {
  margin: 5px;
  padding: 10px 20px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: #4b7bec;
  color: white;
}
#clearBtn { background: #fc5c65; }
#output {
  width: 400px;
  height: 220px;
  border: 2px solid #ccc;
  background: #fff;
  padding: 10px;
  overflow-y: auto;
  text-align: left;
  white-space: pre-wrap;
  font-family: monospace;
  border-radius: 8px;
}
textarea {
  width: 400px;
  height: 100px;
  margin: 5px;
  border-radius: 8px;
}
</style>
</head>
<body>

<h2>Python Blocks Runner Ø¨Ø¯ÙˆÙ† Ù…ÙƒØªØ¨Ø§Øª</h2>

<div id="main">
  <div id="commands">
    <textarea id="codeInput" placeholder='Ø§ÙƒØªØ¨ Ø£ÙˆØ§Ù…Ø± Python Ù‡Ù†Ø§ Ù…Ø«Ù„: print("Ù…Ø±Ø­Ø¨Ø§")'></textarea><br>
    <button id="runBtn">â–¶ï¸ ØªØ´ØºÙŠÙ„</button>
    <button id="clearBtn">ğŸ§¹ Ù…Ø³Ø­ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬</button>
  </div>
  <div id="outputPanel">
    <div id="output"></div>
  </div>
</div>

<script>
const outputDiv = document.getElementById("output");
const codeInput = document.getElementById("codeInput");

// ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
let variables = {};

function runPythonCode(code) {
  const lines = code.split("\n");
  lines.forEach(line => {
    line = line.trim();
    // print("text")
    if(line.startsWith("print(") && line.endsWith(")")) {
      let content = line.slice(6, -1).trim();
      // Ø¥Ø°Ø§ Ù…Ø­ØªÙˆÙ‰ Ù†ØµÙˆØµ
      if(content.startsWith('"') && content.endsWith('"') || content.startsWith("'") && content.endsWith("'")) {
        content = content.slice(1, -1);
      } else if(variables[content] !== undefined) {
        content = variables[content];
      }
      outputDiv.innerHTML += content + "\n";
    }
    // var = value
    else if(line.includes("=")) {
      let parts = line.split("=");
      let varName = parts[0].trim();
      let value = parts[1].trim();
      if(value.startsWith('"') && value.endsWith('"') || value.startsWith("'") && value.endsWith("'")) {
        value = value.slice(1, -1);
      } else if(!isNaN(Number(value))) {
        value = Number(value);
      } else if(variables[value] !== undefined) {
        value = variables[value];
      }
      variables[varName] = value;
    }
  });
}

document.getElementById("runBtn").addEventListener("click", () => {
  runPythonCode(codeInput.value);
});

document.getElementById("clearBtn").addEventListener("click", () => {
  outputDiv.innerHTML = "";
  variables = {};
});
</script>

</body>
</html>
